$(function() {
  // call revealOnScroll
  $(window).on('scroll', revealOnScroll);

  // Animate reveal on scroll
  function revealOnScroll() {
    var scrolled = $(window).scrollTop();
    $(".revealOnScroll:not(.animated)").each(function() {
      if (scrolled + win_height_padded > $(this).offset().top) {
        if ($(this).data('timeout')) {
          window.setTimeout(function() {
            $(this).addClass('animated ' + $(this).data('animation'));
          }, parseInt($(this).data('timeout'), 10));
        } else {
          $(this).addClass('animated ' + $(this).data('animation'));
        }
      }
    });
  }

  // apply reveal on scroll to buttons
  $(window).on("scroll", function() {
    if ($(window).scrollTop() >= 300) {
      $("#backtotop-button").addClass('visible');
      $("#help-button").addClass('visible');
    } else {
      $("#backtotop-button").removeClass('visible');
      $("#help-button").removeClass('visible');
    }
  });

  // Scroll to top behaviour
  $('#backtotop-button a').on('click', function() {
    $('html, body').animate({
      scrollTop: 0
    }, 800, 'swing');
    return false;
  });
})
